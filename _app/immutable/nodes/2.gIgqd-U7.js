import{s as ne,n as K,o as se,r as oe}from"../chunks/scheduler.BvLojk_z.js";import{S as ce,i as ie,e as E,s as H,b as N,c as I,d as z,y as re,h as P,f as q,g,o as S,j as y,k as v,l as T,z as G,m as B,A as L,B as X}from"../chunks/index.CVnsIiRH.js";function w(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}const Z=1,he=9,M=3;function ae(){const n=Array.from({length:M*2-1},()=>Array.from({length:M*2-1},()=>Array(M*2-1).fill(0)));for(let l=0;l<=M*2-2;l++)for(let e=0;e<=M*2-2;e++){const t=M*2-l-e;t<0||t>M*2-2||(n[l][e][t]=Math.floor(Math.random()*(he-Z+1))+Z)}return n}function fe(n){let l={};for(let e=0;e<=M*2-2;e++)for(let t=0;t<=M*2-2;t++)for(let s=0;s<=M*2-2;s++){const o=ue(n,e,t,s);if(o.length>0)for(let c=0;c<o.length;c++)l[o[c]]?l[o[c]]++:l[o[c]]=1}return l}function ue(n,l,e,t){const s=[[1,0,-1],[0,1,-1],[-1,1,0]];if(n[l][e][t]===0)return 0;const o=[];for(let c=0;c<s.length;c++){const i=s[c];if(l+i[0]*2<0||l+i[0]*2>M*2-2||e+i[1]*2<0||e+i[1]*2>M*2-2||t+i[2]*2<0||t+i[2]*2>M*2-2)continue;const u=n[l+i[0]][e+i[1]][t+i[2]],h=n[l+i[0]*2][e+i[1]*2][t+i[2]*2];u!==0&&h!==0&&o.push(n[l][e][t]+u+h)}return o}function de(n){const[l,e,t]=n,s=Math.abs(l.i-e.i)+Math.abs(l.j-e.j)+Math.abs(l.k-e.k),o=Math.abs(e.i-t.i)+Math.abs(e.j-t.j)+Math.abs(e.k-t.k),c=Math.abs(l.i-t.i)+Math.abs(l.j-t.j)+Math.abs(l.k-t.k);return s===2&&o===2||s===2&&c===2||o===2&&c===2}function ge(n){const[l,e,t]=n;return l.i===e.i&&e.i===t.i||l.j===e.j&&e.j===t.j||l.k===e.k&&e.k===t.k}function _e(n,l,e){return l.reduce((t,s)=>t+n[s.i][s.j][s.k],0)===e}function F(n,l,e){const t=n.slice();return t[13]=l[e],t[15]=e,t}function J(n,l,e){const t=n.slice();return t[16]=l[e],t[18]=e,t}function Q(n,l,e){const t=n.slice();return t[19]=l[e],t[21]=e,t}function W(n){let l,e,t=n[19]+"",s,o,c;function i(){return n[7](n[15],n[18],n[21])}function u(...h){return n[8](n[15],n[18],n[21],...h)}return{c(){l=E("div"),e=E("div"),s=N(t),this.h()},l(h){l=I(h,"DIV",{class:!0});var b=z(l);e=I(b,"DIV",{role:!0,class:!0,tabindex:!0});var _=z(e);s=q(_,t),_.forEach(g),b.forEach(g),this.h()},h(){S(e,"role","button"),S(e,"class","hexagon-inner svelte-16zqg82"),S(e,"tabindex","0"),L(e,"hexagon-selected",te(n[15],n[18],n[21],n[4])),S(l,"class","hexagon svelte-16zqg82")},m(h,b){y(h,l,b),v(l,e),v(e,s),o||(c=[X(e,"click",i),X(e,"keydown",u)],o=!0)},p(h,b){n=h,b&1&&t!==(t=n[19]+"")&&T(s,t),b&16&&L(e,"hexagon-selected",te(n[15],n[18],n[21],n[4]))},d(h){h&&g(l),o=!1,oe(c)}}}function x(n){let l,e=n[19]!==0&&W(n);return{c(){e&&e.c(),l=B()},l(t){e&&e.l(t),l=B()},m(t,s){e&&e.m(t,s),y(t,l,s)},p(t,s){t[19]!==0?e?e.p(t,s):(e=W(t),e.c(),e.m(l.parentNode,l)):e&&(e.d(1),e=null)},d(t){t&&g(l),e&&e.d(t)}}}function $(n){let l,e=w(n[16]),t=[];for(let s=0;s<e.length;s+=1)t[s]=x(Q(n,e,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();l=B()},l(s){for(let o=0;o<t.length;o+=1)t[o].l(s);l=B()},m(s,o){for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(s,o);y(s,l,o)},p(s,o){if(o&113){e=w(s[16]);let c;for(c=0;c<e.length;c+=1){const i=Q(s,e,c);t[c]?t[c].p(i,o):(t[c]=x(i),t[c].c(),t[c].m(l.parentNode,l))}for(;c<t.length;c+=1)t[c].d(1);t.length=e.length}},d(s){s&&g(l),G(t,s)}}}function ee(n){let l,e,t=w(n[13]),s=[];for(let o=0;o<t.length;o+=1)s[o]=$(J(n,t,o));return{c(){l=E("div");for(let o=0;o<s.length;o+=1)s[o].c();e=H(),this.h()},l(o){l=I(o,"DIV",{class:!0});var c=z(l);for(let i=0;i<s.length;i+=1)s[i].l(c);e=P(c),c.forEach(g),this.h()},h(){S(l,"class","line svelte-16zqg82")},m(o,c){y(o,l,c);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(l,null);v(l,e)},p(o,c){if(c&113){t=w(o[13]);let i;for(i=0;i<t.length;i+=1){const u=J(o,t,i);s[i]?s[i].p(u,c):(s[i]=$(u),s[i].c(),s[i].m(l,e))}for(;i<s.length;i+=1)s[i].d(1);s.length=t.length}},d(o){o&&g(l),G(s,o)}}}function me(n){let l,e,t="Hexagon Grid",s,o,c,i,u,h,b,_,j,A,D,V,d,p,k=w(n[0]),a=[];for(let r=0;r<k.length;r+=1)a[r]=ee(F(n,k,r));return{c(){l=E("div"),e=E("h1"),e.textContent=t,s=H(),o=E("h2"),c=N("Target: "),i=N(n[1]),u=H(),h=E("div");for(let r=0;r<a.length;r+=1)a[r].c();b=H(),_=E("div"),j=E("h2"),A=N("Scores: "),D=N(n[3]),V=H(),d=E("p"),p=N(n[2]),this.h()},l(r){l=I(r,"DIV",{class:!0});var m=z(l);e=I(m,"H1",{"data-svelte-h":!0}),re(e)!=="svelte-iewt70"&&(e.textContent=t),s=P(m),o=I(m,"H2",{class:!0});var f=z(o);c=q(f,"Target: "),i=q(f,n[1]),f.forEach(g),m.forEach(g),u=P(r),h=I(r,"DIV",{class:!0});var C=z(h);for(let R=0;R<a.length;R+=1)a[R].l(C);C.forEach(g),b=P(r),_=I(r,"DIV",{class:!0});var Y=z(_);j=I(Y,"H2",{class:!0});var O=z(j);A=q(O,"Scores: "),D=q(O,n[3]),O.forEach(g),V=P(Y),d=I(Y,"P",{});var U=z(d);p=q(U,n[2]),U.forEach(g),Y.forEach(g),this.h()},h(){S(o,"class","svelte-16zqg82"),S(l,"class","title-container svelte-16zqg82"),S(h,"class","container svelte-16zqg82"),S(j,"class","svelte-16zqg82"),S(_,"class","status-container svelte-16zqg82")},m(r,m){y(r,l,m),v(l,e),v(l,s),v(l,o),v(o,c),v(o,i),y(r,u,m),y(r,h,m);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(h,null);y(r,b,m),y(r,_,m),v(_,j),v(j,A),v(j,D),v(_,V),v(_,d),v(d,p)},p(r,[m]){if(m&2&&T(i,r[1]),m&113){k=w(r[0]);let f;for(f=0;f<k.length;f+=1){const C=F(r,k,f);a[f]?a[f].p(C,m):(a[f]=ee(C),a[f].c(),a[f].m(h,null))}for(;f<a.length;f+=1)a[f].d(1);a.length=k.length}m&8&&T(D,r[3]),m&4&&T(p,r[2])},i:K,o:K,d(r){r&&(g(l),g(u),g(h),g(b),g(_)),G(a,r)}}}function te(n,l,e,t){return t.some(s=>s.i===n&&s.j===l&&s.k===e)}function le(n){const l=n[0].i+"-"+n[0].j+"-"+n[0].k,e=n[1].i+"-"+n[1].j+"-"+n[1].k,t=n[2].i+"-"+n[2].j+"-"+n[2].k;return[l,e,t].sort().join(",")}function be(n,l,e){let t,s=[],o={},c,i="",u=0,h=!1;se(()=>{e(0,s=ae()),o=fe(s);const d=Object.keys(o);e(1,c=+d[Math.floor(Math.random()*d.length)])});let b=new Set;function _(d,p,k){if(h||t.length===3)return;const a=t.findIndex(r=>r.i===d&&r.j===p&&r.k===k);a!==-1?t.splice(a,1):t.push({i:d,j:p,k}),t.length===3&&(A(t)?(e(3,u-=1),e(2,i="You already submitted this combination")):de(t)?ge(t)?_e(s,t,c)?(e(3,u+=1),b.add(le(t)),o[c]=o[c]-1,o[c]===0?(e(2,i="You solved all the combinations for this target"),h=!0):e(2,i="You got the points")):(e(3,u-=1),e(2,i="The sum of the selected points is not the target")):(e(3,u-=1),e(2,i="You can only select points that are in the same line")):(e(3,u-=1),e(2,i="You can only select points that are neighbors")),h||setTimeout(()=>{e(4,t=[]),e(2,i="")},2e3)),e(4,t=[...t])}function j(d,p,k,a){d.key==="Enter"&&_(p,k,a)}function A(d){return b.has(le(d))}const D=(d,p,k)=>_(d,p,k),V=(d,p,k,a)=>j(a,d,p,k);return e(4,t=[]),[s,c,i,u,t,_,j,D,V]}class pe extends ce{constructor(l){super(),ie(this,l,be,me,ne,{})}}export{pe as component};
